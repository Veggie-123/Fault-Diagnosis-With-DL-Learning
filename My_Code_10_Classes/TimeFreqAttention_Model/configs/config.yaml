# 基于时频融合和注意力机制的故障诊断模型配置文件

# 数据配置
data:
  # 原始 .mat 数据文件所在的目录路径
  data_path: '../data/matfiles'
  
  # 数据文件列表和对应的标签
  file_names:
    - 'normal_0.mat'     # 标签: 0
    - 'IR007_0.mat'      # 标签: 1
    - 'B007_0.mat'       # 标签: 2
    - 'OR007@6_0.mat'    # 标签: 3
    - 'IR014_0.mat'      # 标签: 4
    - 'B014_0.mat'       # 标签: 5
    - 'OR014@6_0.mat'    # 标签: 6
    - 'IR021_0.mat'      # 标签: 7
    - 'B021_0.mat'       # 标签: 8
    - 'OR021@6_0.mat'    # 标签: 9
  
  # 从每个时间序列的开头截取的数据点数量
  truncated_value: 102912
  
  # 每个样本的长度（窗口大小）
  time_steps: 1024
  
  # 相邻两个样本之间的重叠比例
  overlap_ratio: 0.5
  
  # CSV文件路径（如果使用预处理好的CSV数据）
  csv_file_path: '../samples_data.csv'
  
  # 数据集划分比例 [训练集, 验证集, 测试集]
  split_ratios: [0.7, 0.2, 0.1]
  
  # 是否使用CSV文件（True: 使用CSV, False: 直接从mat文件加载）
  use_csv: true

  # 预计算 WPT 阵列是否直接读取（若为 true，训练将跳过分解）
  use_wpt_precomputed: false
  # 预计算 WPT 阵列输出目录（由 make_wpt_dataset.py 生成）
  wpt_output_dir: '../data/WPTarrays'

# 小波包分解配置
wavelet:
  # 小波基函数 ('db4', 'db8', 'haar', 'bior2.2' 等)
  wavelet_type: 'db4'
  
  # 小波包分解层数（决定频带数，频带数 = 2^max_level）
  max_level: 6

# 模型配置
model:
  # 分类的类别总数
  num_classes: 10
  
  # CNN输出通道数
  cnn_out_channels: 64
  
  # GRU隐藏层维度
  gru_hidden_dim: 128
  
  # Dropout比率
  dropout_rate: 0.3

# 训练配置
train:
  # 训练的总轮次 (epochs)
  num_epochs: 50
  
  # 每个批次的大小 (batch_size)
  batch_size: 32
  
  # 优化器的学习率
  learning_rate: 0.0005
  
  # 保存模型权重和结果的目录
  checkpoint_dir: 'checkpoints/6.attention(2residuals)'
  
  # 学习率调度器配置
  scheduler:
    use_scheduler: true
    scheduler_type: 'StepLR'  # 'StepLR', 'CosineAnnealingLR', 'ReduceLROnPlateau'
    step_size: 10
    gamma: 0.5  # 学习率衰减因子

# 测试配置
test:
  # 测试集batch size
  batch_size: 32
